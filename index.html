<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunFacts Hub - Khám phá điều thú vị mỗi ngày</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="FunFacts Hub - Khám phá những sự thật thú vị, trích dẫn hài hước và hình ảnh độc đáo mỗi ngày. Tìm hiểu về số học, mèo, chó và nhiều điều thú vị khác!">
    <meta name="keywords" content="fun facts, useless facts, number facts, cat facts, jokes, dog images, trivia, interesting facts, daily facts">
    <meta name="author" content="Tanbaycu">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="FunFacts Hub - Khám phá điều thú vị mỗi ngày">
    <meta property="og:description" content="Khám phá những sự thật thú vị, trích dẫn hài hước và hình ảnh độc đáo mỗi ngày tại FunFacts Hub.">
    <meta property="og:image" content="https://i.postimg.cc/MHyrgFCR/Thi-t-k-ch-a-c-t-n-15.png">
    <meta property="og:url" content="https://funfactshub.vercel.app/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="FunFacts Hub">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="FunFacts Hub - Khám phá điều thú vị mỗi ngày">
    <meta name="twitter:description" content="Khám phá những sự thật thú vị, trích dẫn hài hước và hình ảnh độc đáo mỗi ngày tại FunFacts Hub.">
    <meta name="twitter:image" content="https://i.postimg.cc/tTbdGt2N/Thi-t-k-ch-a-c-t-n.png">
    
    <!-- Additional Meta Tags -->
    <link rel="canonical" href="https://funfactshub.vercel.app/">
    <link rel="alternate" hreflang="en" href="https://funfactshub.vercel.app/en/">
    <link rel="alternate" hreflang="vi" href="https://funfactshub.vercel.app/vi/">
    <link rel="icon" href="https://i.postimg.cc/MHyrgFCR/Thi-t-k-ch-a-c-t-n-15.png" type="image/png">
    <meta name="theme-color" content="#000000">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Inter:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #000000;
            --secondary: #ffffff;
            --accent: #f5f5f5;
            --border: #e0e0e0;
            --shadow: rgba(0, 0, 0, 0.1);
            --radius: 24px;
            --spacing: 32px;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--secondary);
            color: var(--primary);
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Mobile Detection and Redirect */
        @media (max-width: 768px) {
            body::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: var(--secondary);
                z-index: 9999;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            body::after {
                content: 'Redirecting to mobile version...';
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                z-index: 10000;
                font-family: 'JetBrains Mono', monospace;
                font-size: 16px;
            }
        }

        /* Floating Header */
        .header {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 16px 32px;
            z-index: 1000;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px var(--shadow);
        }

        .header:hover {
            transform: translateX(-50%) translateY(-2px);
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.15);
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 48px;
        }

        .logo {
            font-family: 'JetBrains Mono', monospace;
            font-size: 18px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .nav {
            display: flex;
            gap: 32px;
        }

        .nav-link {
            text-decoration: none;
            color: var(--primary);
            font-weight: 400;
            font-size: 14px;
            opacity: 0.7;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-link:hover {
            opacity: 1;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            width: 0;
            height: 1px;
            background: var(--primary);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--accent) 100%);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 20%, rgba(0, 0, 0, 0.02) 0%, transparent 50%),
                        radial-gradient(circle at 70% 80%, rgba(0, 0, 0, 0.02) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            padding: 0 32px;
        }

        .hero-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: clamp(64px, 12vw, 160px);
            font-weight: 300;
            letter-spacing: -4px;
            line-height: 0.85;
            margin-bottom: 32px;
            background: linear-gradient(135deg, var(--primary) 0%, rgba(0, 0, 0, 0.6) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 24px;
            font-weight: 200;
            opacity: 0.8;
            margin-bottom: 48px;
            letter-spacing: 0.5px;
        }

        .hero-cta {
            background: var(--primary);
            color: var(--secondary);
            border: none;
            padding: 20px 40px;
            border-radius: 50px;
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .hero-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .hero-cta:hover::before {
            left: 100%;
        }

        .hero-cta:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        /* Main Content */
        .main {
            padding: 80px 0;
            position: relative;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 32px;
        }

        /* Balanced Layout */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 32px;
            margin-bottom: 80px;
        }

        .section {
            position: relative;
        }

        /* Card Sizes - Balanced Layout */
        .section:nth-child(1) { grid-column: 1 / 7; }
        .section:nth-child(2) { grid-column: 7 / 13; }
        .section:nth-child(3) { grid-column: 1 / 8; }
        .section:nth-child(4) { grid-column: 8 / 13; }
        .section:nth-child(5) { grid-column: 1 / 6; }
        .section:nth-child(6) { grid-column: 1 / 13; margin-top: 40px; }

        /* Card Styles */
        .card {
            background: var(--secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            box-shadow: 0 4px 24px var(--shadow);
            height: fit-content;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), rgba(0, 0, 0, 0.3));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.6s ease;
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            padding: 32px 32px 16px;
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.6;
        }

        .refresh-icon {
            width: 20px;
            height: 20px;
            cursor: pointer;
            opacity: 0.6;
            transition: all 0.3s ease;
            stroke: var(--primary);
            stroke-width: 2;
            fill: none;
        }

        .refresh-icon:hover {
            opacity: 1;
            transform: rotate(-90deg);
        }

        .refresh-icon.spinning {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .card-content {
            padding: 0 32px 32px;
        }

        .fact-display {
            min-height: 100px;
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            position: relative;
        }

        .fact-text {
            font-size: 16px;
            line-height: 1.6;
            font-weight: 300;
            transition: all 0.3s ease;
        }

        .fact-text.loading {
            opacity: 0;
        }

        /* Skeleton Loading */
        .skeleton {
            background: linear-gradient(90deg, var(--accent) 25%, rgba(245, 245, 245, 0.5) 50%, var(--accent) 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
            border-radius: 8px;
        }

        .skeleton-line {
            height: 20px;
            margin-bottom: 12px;
        }

        .skeleton-line:last-child {
            width: 70%;
            margin-bottom: 0;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Translation Box */
        .translation {
            background: var(--accent);
            border-left: 4px solid var(--primary);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 12px 12px 0;
            font-style: italic;
            font-size: 14px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
            display: none;
        }

        .translation.show {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Input Styles */
        .input-group {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            align-items: stretch;
        }

        .input {
            flex: 1;
            border: 2px solid var(--border);
            background: var(--secondary);
            padding: 14px 18px;
            border-radius: 50px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.1);
        }

        .get-btn {
            background: var(--primary);
            color: var(--secondary);
            border: none;
            padding: 14px 24px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .get-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .random-btn {
            background: var(--accent);
            border: 1px solid var(--border);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 16px;
        }

        .random-btn:hover {
            background: var(--primary);
            color: var(--secondary);
        }

        /* Dog Image Card */
        .card-wide .fact-display {
            min-height: auto;
        }

        .dog-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 16px;
            transition: all 0.4s ease;
            filter: grayscale(20%);
        }

        .dog-image:hover {
            filter: grayscale(0%);
            transform: scale(1.02);
        }

        .dog-image.loading {
            opacity: 0.5;
        }

        /* Loading States */
        .card-loading .fact-text {
            display: none;
        }

        .card-loading .skeleton-container {
            display: block;
        }

        .skeleton-container {
            display: none;
        }

        /* Footer */
        .footer {
            margin-top: 80px;
            padding: 60px 0;
            text-align: center;
            background: var(--accent);
            border-top: 1px solid var(--border);
        }

        .footer-content {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 3px;
            opacity: 0.6;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .content-grid {
                grid-template-columns: repeat(8, 1fr);
            }
            
            .section:nth-child(1) { grid-column: 1 / 5; }
            .section:nth-child(2) { grid-column: 5 / 9; }
            .section:nth-child(3) { grid-column: 1 / 5; }
            .section:nth-child(4) { grid-column: 5 / 9; }
            .section:nth-child(5) { grid-column: 1 / 5; }
            .section:nth-child(6) { grid-column: 1 / 9; }
        }

        /* Scroll Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--accent);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.8);
        }
    </style>
</head>
<body>
    <!-- Mobile Redirect Script -->
    <script>
        if (window.innerWidth <= 768) {
            window.location.href = '/mobile';
        }
    </script>

    <!-- Floating Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">FACTS</div>
            <nav class="nav">
                <a href="#useless" class="nav-link">Useless</a>
                <a href="#numbers" class="nav-link">Numbers</a>
                <a href="#cats" class="nav-link">Cats</a>
                <a href="#jokes" class="nav-link">Jokes</a>
                <a href="#dogs" class="nav-link">Dogs</a>
                <a href="/mobile" class="nav-link" style="opacity: 0.5; font-size: 12px;">📱 Mobile</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">DISCOVER<br>FACTS</h1>
            <p class="hero-subtitle">Curated collection of fascinating facts, updated daily</p>
            <button class="hero-cta" onclick="scrollToContent()">Explore Now</button>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="content-grid">
                
                <!-- Useless Facts -->
                <section class="section fade-in" id="useless">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Useless Facts</div>
                            <svg class="refresh-icon" onclick="fetchUselessFact()" viewBox="0 0 24 24">
                                <path d="M1 4v6h6M23 20v-6h-6"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                        </div>
                        <div class="card-content">
                            <div class="fact-display">
                                <div class="fact-text" id="useless-fact">Loading fascinating useless facts...</div>
                                <div class="skeleton-container">
                                    <div class="skeleton skeleton-line"></div>
                                    <div class="skeleton skeleton-line"></div>
                                    <div class="skeleton skeleton-line"></div>
                                </div>
                            </div>
                            <div class="translation" id="useless-translation"></div>
                        </div>
                    </div>
                </section>

                <!-- Number Facts -->
                <section class="section fade-in" id="numbers">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Number Facts</div>
                            <svg class="refresh-icon" onclick="fetchRandomNumber()" viewBox="0 0 24 24">
                                <path d="M1 4v6h6M23 20v-6h-6"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                        </div>
                        <div class="card-content">
                            <div class="input-group">
                                <input type="number" class="input" id="number-input" placeholder="Enter number...">
                                <button class="get-btn" onclick="fetchNumberFact()">Get</button>
                            </div>
                            <button class="random-btn" onclick="fetchRandomNumber()">🎲 Random Number</button>
                            <div class="fact-display">
                                <div class="fact-text" id="number-fact">Enter a number or try random</div>
                                <div class="skeleton-container">
                                    <div class="skeleton skeleton-line"></div>
                                    <div class="skeleton skeleton-line"></div>
                                </div>
                            </div>
                            <div class="translation" id="number-translation"></div>
                        </div>
                    </div>
                </section>

                <!-- Cat Facts -->
                <section class="section fade-in" id="cats">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Cat Facts</div>
                            <svg class="refresh-icon" onclick="fetchCatFact()" viewBox="0 0 24 24">
                                <path d="M1 4v6h6M23 20v-6h-6"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                        </div>
                        <div class="card-content">
                            <div class="fact-display">
                                <div class="fact-text" id="cat-fact">Loading amazing cat facts...</div>
                                <div class="skeleton-container">
                                    <div class="skeleton skeleton-line"></div>
                                    <div class="skeleton skeleton-line"></div>
                                    <div class="skeleton skeleton-line"></div>
                                </div>
                            </div>
                            <div class="translation" id="cat-translation"></div>
                        </div>
                    </div>
                </section>

                <!-- Jokes -->
                <section class="section fade-in" id="jokes">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Daily Humor</div>
                            <svg class="refresh-icon" onclick="fetchJoke()" viewBox="0 0 24 24">
                                <path d="M1 4v6h6M23 20v-6h-6"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                        </div>
                        <div class="card-content">
                            <div class="fact-display">
                                <div class="fact-text" id="joke-fact">Loading daily dose of humor...</div>
                                <div class="skeleton-container">
                                    <div class="skeleton skeleton-line"></div>
                                    <div class="skeleton skeleton-line"></div>
                                </div>
                            </div>
                            <div class="translation" id="joke-translation"></div>
                        </div>
                    </div>
                </section>

                <!-- GitHub Trending -->
                <section class="section fade-in">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">GitHub Trending</div>
                            <svg class="refresh-icon" onclick="fetchGitHub()" viewBox="0 0 24 24">
                                <path d="M1 4v6h6M23 20v-6h-6"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                        </div>
                        <div class="card-content">
                            <div class="fact-display">
                                <div class="fact-text" id="github-content">Loading trending repositories...</div>
                                <div class="skeleton-container">
                                    <div class="skeleton skeleton-line"></div>
                                    <div class="skeleton skeleton-line"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Dog Images -->
                <section class="section fade-in card-wide" id="dogs">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Random Dogs</div>
                            <svg class="refresh-icon" onclick="fetchDogImage()" viewBox="0 0 24 24">
                                <path d="M1 4v6h6M23 20v-6h-6"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                        </div>
                        <div class="card-content">
                            <div class="fact-display">
                                <img id="dog-image" class="dog-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%23f5f5f5'/%3E%3Ctext x='400' y='200' text-anchor='middle' dy='0.3em' font-family='Inter' font-size='16' fill='%23999'%3ELoading dog image...%3C/text%3E%3C/svg%3E" alt="Random dog">
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            Crafted with precision — 2024
        </div>
    </footer>

    <script>
        // Smooth scroll to content
        function scrollToContent() {
            document.querySelector('.main').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all fade-in elements
        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Loading state management
        function showCardLoading(cardId) {
            const card = document.querySelector(`#${cardId}`).closest('.card');
            card.classList.add('card-loading');
        }

        function hideCardLoading(cardId) {
            const card = document.querySelector(`#${cardId}`).closest('.card');
            card.classList.remove('card-loading');
        }

        function addSpinning(iconElement) {
            iconElement.classList.add('spinning');
        }

        function removeSpinning(iconElement) {
            iconElement.classList.remove('spinning');
        }

        // Translation function
        async function translateText(text, translationId) {
            try {
                const response = await fetch('/translate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ text })
                });
                const data = await response.json();
                const translationEl = document.getElementById(translationId);
                translationEl.textContent = data.translation;
                setTimeout(() => {
                    translationEl.classList.add('show');
                }, 100);
            } catch (error) {
                console.error('Translation error:', error);
            }
        }

        // Fetch functions with loading states
        async function fetchUselessFact() {
            const icon = event.target;
            addSpinning(icon);
            showCardLoading('useless-fact');
            try {
                const response = await fetch('/useless-fact');
                const data = await response.json();
                setTimeout(() => {
                    document.getElementById('useless-fact').textContent = data.fact;
                    hideCardLoading('useless-fact');
                    removeSpinning(icon);
                    translateText(data.fact, 'useless-translation');
                }, 800);
            } catch (error) {
                setTimeout(() => {
                    document.getElementById('useless-fact').textContent = 'Failed to load fact';
                    hideCardLoading('useless-fact');
                    removeSpinning(icon);
                }, 800);
            }
        }

        async function fetchNumberFact() {
            const number = document.getElementById('number-input').value || 'random';
            showCardLoading('number-fact');
            try {
                const response = await fetch(`/number-fact?number=${number}`);
                const data = await response.json();
                setTimeout(() => {
                    document.getElementById('number-fact').textContent = data.fact;
                    hideCardLoading('number-fact');
                    translateText(data.fact, 'number-translation');
                }, 800);
            } catch (error) {
                setTimeout(() => {
                    document.getElementById('number-fact').textContent = 'Failed to load fact';
                    hideCardLoading('number-fact');
                }, 800);
            }
        }

        async function fetchRandomNumber() {
            const icon = event.target;
            addSpinning(icon);
            document.getElementById('number-input').value = '';
            showCardLoading('number-fact');
            try {
                const response = await fetch('/number-fact?number=random');
                const data = await response.json();
                setTimeout(() => {
                    document.getElementById('number-fact').textContent = data.fact;
                    hideCardLoading('number-fact');
                    removeSpinning(icon);
                    translateText(data.fact, 'number-translation');
                }, 800);
            } catch (error) {
                setTimeout(() => {
                    document.getElementById('number-fact').textContent = 'Failed to load fact';
                    hideCardLoading('number-fact');
                    removeSpinning(icon);
                }, 800);
            }
        }

        async function fetchCatFact() {
            const icon = event.target;
            addSpinning(icon);
            showCardLoading('cat-fact');
            try {
                const response = await fetch('/cat-fact');
                const data = await response.json();
                setTimeout(() => {
                    document.getElementById('cat-fact').textContent = data.fact;
                    hideCardLoading('cat-fact');
                    removeSpinning(icon);
                    translateText(data.fact, 'cat-translation');
                }, 800);
            } catch (error) {
                setTimeout(() => {
                    document.getElementById('cat-fact').textContent = 'Failed to load cat fact';
                    hideCardLoading('cat-fact');
                    removeSpinning(icon);
                }, 800);
            }
        }

        async function fetchJoke() {
            const icon = event.target;
            addSpinning(icon);
            showCardLoading('joke-fact');
            try {
                const response = await fetch('/joke');
                const data = await response.json();
                setTimeout(() => {
                    document.getElementById('joke-fact').textContent = data.joke;
                    hideCardLoading('joke-fact');
                    removeSpinning(icon);
                    translateText(data.joke, 'joke-translation');
                }, 800);
            } catch (error) {
                setTimeout(() => {
                    document.getElementById('joke-fact').textContent = 'Failed to load joke';
                    hideCardLoading('joke-fact');
                    removeSpinning(icon);
                }, 800);
            }
        }

        async function fetchDogImage() {
            const icon = event.target;
            const img = document.getElementById('dog-image');
            addSpinning(icon);
            img.classList.add('loading');
            try {
                const response = await fetch('/dog-image');
                const data = await response.json();
                img.onload = () => {
                    img.classList.remove('loading');
                    removeSpinning(icon);
                };
                img.src = data.image_url;
            } catch (error) {
                img.classList.remove('loading');
                removeSpinning(icon);
                console.error('Failed to load dog image');
            }
        }

        async function fetchGitHub() {
            const icon = event.target;
            addSpinning(icon);
            showCardLoading('github-content');
            try {
                const response = await fetch('/github-trending');
                const data = await response.json();
                setTimeout(() => {
                    document.getElementById('github-content').innerHTML = 
                        `<strong>${data.name}</strong><br><span style="opacity: 0.7;">${data.description}</span><br><small style="opacity: 0.5;">${data.stars} stars • ${data.language}</small>`;
                    hideCardLoading('github-content');
                    removeSpinning(icon);
                }, 800);
            } catch (error) {
                setTimeout(() => {
                    document.getElementById('github-content').textContent = 'Failed to load trending repo';
                    hideCardLoading('github-content');
                    removeSpinning(icon);
                }, 800);
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            // Stagger the initial loads
            setTimeout(() => fetchUselessFact(), 200);
            setTimeout(() => fetchCatFact(), 400);
            setTimeout(() => fetchJoke(), 600);
            setTimeout(() => fetchDogImage(), 800);
            setTimeout(() => fetchGitHub(), 1000);
        });

        // Enter key for number input
        document.getElementById('number-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                fetchNumberFact();
            }
        });

        // Header scroll effect
        let lastScrollY = window.scrollY;
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.header');
            if (window.scrollY > lastScrollY && window.scrollY > 100) {
                header.style.transform = 'translateX(-50%) translateY(-100px)';
            } else {
                header.style.transform = 'translateX(-50%) translateY(0)';
            }
            lastScrollY = window.scrollY;
        });
    </script>
</body>
</html>